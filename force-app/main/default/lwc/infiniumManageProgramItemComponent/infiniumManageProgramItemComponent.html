<!-- Author: Thanvi  Date:10/Aug/2021
     Aim:To show add/remove item modal -->

     <template>
        <template if:false={getAllProgramItems}>
            <!--MODAL POPUP  -->
            <div>
    
                <section role="dialog" tabindex="0" class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container">
                        <header class="slds-modal__header modal_header_style">
                            <lightning-button-icon icon-name="utility:close" onclick={closeModal} alternative-text="Close"
                                variant="bare-inverse" class="slds-modal__close"></lightning-button-icon>
                            <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Program items for
                                "{labelName}"</h2>
                        </header>
                        <div>
                            <div class="slds-modal__content ">
                                <div class="slds-p-top_xxx-small">
                                    <lightning-card title="Items in Program" class="my-card">
                                        <div class="modal_body_style scroll-box">
                                            <table aria-multiselectable="true"
                                                class="slds-table slds-table_bordered slds-table_fixed-layout" role="grid">
                                                <thead>
                                                    <tr class="slds-line-height_reset">
                                                        <th scope="col">
                                                            <div
                                                                class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                                <span class="slds-truncate" title="Item Name">Item
                                                                    Name</span>
                                                            </div>
                                                        </th>
                                                        <th scope="col">
                                                            <div
                                                                class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                                <span class="slds-truncate" title="Item Name">Item
                                                                    No</span>
                                                            </div>
                                                        </th>
                                                        <th scope="col">
                                                            <div class="slds-grid slds-has-flexi-truncate">
                                                                <span class="slds-truncate" title="Brand">Brand</span>
                                                            </div>
                                                        </th>
                                                        <th scope="col">
                                                            <div class="slds-grid  slds-has-flexi-truncate">
                                                                <span class="slds-truncate" title="Pack Of">Pack Of</span>
                                                            </div>
                                                        </th>
                                                        <th scope="col">
                                                            <div class="slds-grid  slds-has-flexi-truncate">
                                                                <span class="slds-truncate" title="Price">Price</span>
                                                            </div>
                                                        </th>
                                                        <th scope="col">
                                                            <div class="slds-grid  slds-has-flexi-truncate">
                                                                <span class="slds-truncate" title="Remove">Remove</span>
                                                            </div>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <template for:each={associatedProgramItems}
                                                        for:item="associatedProgramItem">
    
                                                        <tr key={associatedProgramItem.Id}>
                                                            <td role="gridcell">
                                                                <div style="white-space: normal;"
                                                                    title={associatedProgramItem.Item_No__c}>
                                                                    {associatedProgramItem.Item_No__c}</div>
                                                            </td>
                                                            <td role="gridcell">
                                                                <div style="white-space: normal;"
                                                                    title={associatedProgramItem.Item_Name__c}>
                                                                    {associatedProgramItem.Item_Name__c}</div>
                                                            </td>
                                                            <td role="gridcell">
                                                                <div style="white-space: normal;"
                                                                    title={associatedProgramItem.Brand__r.Brand_Name__c}>
                                                                    {associatedProgramItem.Brand__r.Brand_Name__c}</div>
                                                            </td>
                                                            <td role="gridcell">
                                                                <div class="slds-truncate"
                                                                    title={associatedProgramItem.Pack_Of__c}>
                                                                    {associatedProgramItem.Pack_Of__c}</div>
                                                            </td>
                                                            <td role="gridcell">
                                                                <div class="slds-truncate"
                                                                    title={associatedProgramItem.Price__c}>
                                                                    ${associatedProgramItem.Price__c}
                                                                </div>
                                                            </td>
                                                            <td role="gridcell">
                                                                <lightning-button-icon icon-name="utility:dash" size="small"
                                                                    alternative-text="Remove" title="Remove"
                                                                    value={associatedProgramItem} onclick={removeItem}>
                                                                </lightning-button-icon>
                                                            </td>
                                                        </tr>
                                                    </template>
                                                </tbody>
                                            </table>
    
                                        </div>
                                    </lightning-card>
    
                                </div>
    
                                <!-- START OF THE LIST OF POS ITEM LIST-->
                                <lightning-card title="Program Items Available" class="my-card">
                                    <div>
                                        <div>
                                            <div class="exampleHolder">
    
                                                <div class="scroll-box modal_body_style">
                                                    <table aria-multiselectable="true"
                                                        class="slds-table slds-table_bordered slds-table_fixed-layout"
                                                        role="grid">
                                                        <thead>
                                                            <tr class="slds-line-height_reset">
                                                                <th scope="col">
                                                                    <div class="slds-has-flexi-truncate">
                                                                        <span class="slds-truncate" title="Item Name">Item
                                                                            No</span>
                                                                    </div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-has-flexi-truncate">
                                                                        <span class="slds-truncate" title="Item Name">Item
                                                                            Name</span>
                                                                    </div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-has-flexi-truncate">
                                                                        <span class="slds-truncate" title="Brand">Brand
                                                                        </span>
                                                                    </div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-has-flexi-truncate">
                                                                        <span class="slds-truncate" title="Pack Of">Pack Of
                                                                        </span>
                                                                    </div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-has-flexi-truncate">
                                                                        <span class="slds-truncate" title="Price">Price
                                                                        </span>
                                                                    </div>
                                                                </th>
                                                                <th scope="col">
                                                                    <div class="slds-has-flexi-truncate">
                                                                        <span class="slds-truncate" title="Add">Add</span>
                                                                    </div>
                                                                </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <template for:each={availableProgramItems}
                                                                for:item="availableProgramItem">
    
                                                                <tr key={availableProgramItem.Id}>
                                                                    <td role="gridcell">
                                                                        <div style="white-space: normal;"
                                                                            title={availableProgramItem.Item_No__c}>
                                                                            {availableProgramItem.Item_No__c}</div>
                                                                    </td>
                                                                    <td role="gridcell">
                                                                        <div style="white-space: normal;"
                                                                            title={availableProgramItem.Item_Name__c}>
                                                                            {availableProgramItem.Item_Name__c}</div>
                                                                    </td>
                                                                    <td role="gridcell">
                                                                        <div style="white-space: normal;"
                                                                            title={availableProgramItem.Brand__r.Brand_Name__c}>
                                                                            {availableProgramItem.Brand__r.Brand_Name__c}
                                                                        </div>
                                                                    </td>
                                                                    <td role="gridcell">
                                                                        <div class="slds-truncate"
                                                                            title={availableProgramItem.Pack_Of__c}>
                                                                            {availableProgramItem.Pack_Of__c}</div>
                                                                    </td>
                                                                    <td role="gridcell">
                                                                        <div class="slds-truncate"
                                                                            title={availableProgramItem.Price__c}>
                                                                            {availableProgramItem.Price__c}</div>
                                                                    </td>
                                                                    <td role="gridcell">
                                                                        <lightning-button-icon icon-name="utility:add"
                                                                            size="small" value={availableProgramItem}
                                                                            alternative-text="Add Item" title="Add"
                                                                            onclick={addItem}>
                                                                        </lightning-button-icon>
                                                                    </td>
    
                                                                </tr>
                                                            </template>
                                                        </tbody>
                                                    </table>
                                                </div>
    
                                            </div>
                                        </div>
                                    </div>
    
                                </lightning-card>
                            </div>
                        </div>
    
                        <footer class="slds-modal__footer modal_footer_style">
                            <div class="slds-align_absolute-center">
    
                                <lightning-button variant="brand" label="Cancel" title="Cancel" onclick={closeModal}>
                                </lightning-button>
                            </div>
                        </footer>
    
                    </div>
                </section>
            </div>
        </template>
    </template>